<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dylan&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://dylantung.github.io/"/>
  <updated>2018-06-10T14:16:42.000Z</updated>
  <id>https://dylantung.github.io/</id>
  
  <author>
    <name>Dongsx</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux网络工具</title>
    <link href="https://dylantung.github.io/2018/06/10/linux-net-tools/"/>
    <id>https://dylantung.github.io/2018/06/10/linux-net-tools/</id>
    <published>2018-06-10T10:14:00.000Z</published>
    <updated>2018-06-10T14:16:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍Linux系统中常用的网络工具。<br><a id="more"></a></p><h4 id="1-curl命令"><a href="#1-curl命令" class="headerlink" title="1. curl命令"></a>1. curl命令</h4><p>curl                        命令行访问URL的工具</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># curl http://www.baidu.com直接将百度网页的源码输出到屏幕上</span></span><br><span class="line"><span class="section"># curl http://www.baidu.com –o baidu.html 将百度网页的源码保存起来</span></span><br><span class="line"><span class="section"># curl -O http://www.linux.com/hello.sh将hello.sh文件下载下来</span></span><br><span class="line"><span class="section"># curl -# -O http://www.linux.com/dodo1.JPG显示下载进度条</span></span><br><span class="line"><span class="section"># curl -C -O http://www.linux.com/dodo1.JPG断点续传</span></span><br><span class="line"><span class="section"># curl -o /dev/null -s -w %&#123;http_code&#125; www.baidu.com测试网页返回值，非常有用</span></span><br><span class="line"><span class="section"># curl -o /dev/null -s -w %&#123;http_code&#125;:%&#123;http_connect&#125;:%&#123;content_type&#125;:%&#123;time_namelookup&#125;:%&#123;time_redirect&#125;:%&#123;time_pretransfer&#125;:%&#123;time_connect&#125;:%&#123;time_starttransfer&#125;:%&#123;time_total&#125;:%&#123;speed_download&#125; digdeeply.org</span></span><br><span class="line"><span class="section"># curl -x 192.168.100.100:1080 http://www.linux.com-x参数是设置代理的</span></span><br><span class="line"><span class="section"># curl -I http://static.futunn.com/passport/images/global/logo_futunn-b9fab8d8f683775e9c3c5ade78e822ec.png -x 211.162.36.175:80</span></span><br><span class="line"><span class="section"># curl -I www.sina.com.cn -x 124.42.245.30:80</span></span><br><span class="line"><span class="section"># curl -I 124.42.245.30</span></span><br><span class="line"><span class="section"># curl -I 124.42.245.30 -H 'host:www.sina.com.cn'</span></span><br><span class="line"></span><br><span class="line"><span class="section"># curl -s -D header.txt http://www.linux.com -o /dev/null保存访问网站的header信息</span></span><br><span class="line"><span class="section"># curl -I http://www.linux.com在屏幕上显示header信息</span></span><br><span class="line"><span class="section"># curl -c cookie.txt  http://www.linux.com保存访问网站的cookie信息</span></span><br><span class="line"><span class="section"># curl -A "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.0)" http://www.linux.com模仿浏览器</span></span><br><span class="line"><span class="section"># curl -e "www.abc.com" http://mail.linux.com伪造referer</span></span><br><span class="line"><span class="section"># curl -T dodo1.JPG -u 用户名:密码 ftp://www.linux.com/img/上传文件</span></span><br><span class="line"><span class="section"># curl ip.cn</span></span><br><span class="line"><span class="section"># curl myip.ipip.net</span></span><br><span class="line"><span class="section"># curl ip.cip.cc</span></span><br></pre></td></tr></table></figure><h4 id="2-nmap命令"><a href="#2-nmap命令" class="headerlink" title="2. nmap命令"></a>2. nmap命令</h4><p>Nmap 是一款开放源代码的 网络探测和安全审核的工具。 它的设计目标是快速地扫描大型网络 。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># nmap -sP 192.168.1.0/24使用ping检测10.0.0.0/24这个网段</span></span><br><span class="line"><span class="section"># nmap --iflist</span></span><br><span class="line"><span class="section"># nmap -e eth0 192.168.1.5扫描ip开放的端口</span></span><br><span class="line"><span class="section"># nmap 192.168.1.1 -p 1-500自定义扫描端口</span></span><br><span class="line"><span class="section"># nmap -sn 192.168.1.0/2只进行主机发现，不进行端口扫描</span></span><br><span class="line"><span class="section"># nmap 192.168.1.1 -P0端口扫描(Pn)</span></span><br><span class="line"><span class="section"># nmap 192.168.1.1-100 多个ip</span></span><br><span class="line"><span class="section"># nmap -F 192.168.1.*    多个ip，-F 快速扫描</span></span><br><span class="line"><span class="section"># nmap -sS 192.168.1.153Tcp SYN Scan (sS)</span></span><br><span class="line"><span class="section"># nmap -sT 192.168.1.153Tcp connect() scan(sT)</span></span><br><span class="line"><span class="section"># nmap -sU 192.168.1.153Udp scan(sU)</span></span><br><span class="line"><span class="section"># nmap -sF 192.168.1.153FINscan(sF)</span></span><br><span class="line"><span class="section"># nmap -sV 192.168.1.153版本检测(sV)</span></span><br><span class="line"><span class="section"># nmap 192.168.1.153  -p U:22,80,T:21-25,80,139,8080 TCP、UDP端口扫描</span></span><br><span class="line"><span class="section"># nmap --traceroute www.baidu.com路由跟踪</span></span><br><span class="line"><span class="section"># nmap -O 192.168.1.153操作系统</span></span><br><span class="line"><span class="section"># nmap -A 192.168.1.153激进方式扫描，扫描端口和os</span></span><br><span class="line"><span class="section"># nmap -sV -p 22 -oG grep-output.txt 192.168.1.0/24输出格式，可检索的</span></span><br><span class="line"><span class="section"># nmap -sV -p 22 -oA grep-output.txt 192.168.1.0/24输出格式，-oA所有，可检索的、常规的和XML文件</span></span><br><span class="line"><span class="section"># nmap -sV -p 22 -oX grep-output.txt 192.168.1.0/24输出格式，XML</span></span><br><span class="line"><span class="section"># nmap -sV -p 22 -oN grep-output.txt 192.168.1.0/24输出格式，常规格式</span></span><br></pre></td></tr></table></figure><h4 id="3-nc命令"><a href="#3-nc命令" class="headerlink" title="3. nc命令"></a>3. nc命令</h4><blockquote><p>(1) 安装</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># yum install -y nc</span></span><br></pre></td></tr></table></figure><blockquote><p>(2) 远程拷贝文件</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server1：</span><br><span class="line"><span class="section"># nc -l 1234 &gt; test.txt</span></span><br><span class="line">server2：</span><br><span class="line"><span class="section"># nc 192.168.1.3 &lt; test.txt</span></span><br></pre></td></tr></table></figure><blockquote><p>(3) 传输目录</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server1：</span><br><span class="line"><span class="section"># nc -l 1234 | tar xzv-</span></span><br><span class="line">server2：</span><br><span class="line"><span class="section"># tar czv- nginx | nc 192.168.48.47 1234</span></span><br></pre></td></tr></table></figure><blockquote><p>(4) 简单聊天工具</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在192.168.1.2上： </span><br><span class="line"><span class="section"># nc -l 1234</span></span><br><span class="line">在192.168.1.3上： </span><br><span class="line"><span class="section"># nc 192.168.1.2 1234</span></span><br></pre></td></tr></table></figure><blockquote><p>(5) 端口扫描</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># nc -v -w 2 192.168.2.34 -z 21-24</span></span><br></pre></td></tr></table></figure><blockquote><p>(6) 克隆硬盘或分区</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># nc -l -p 1234 | dd of=/dev/sda</span></span><br><span class="line"><span class="section"># dd if=/dev/sda | nc 192.168.228.222 1234</span></span><br></pre></td></tr></table></figure><blockquote><p>(7) 保存Web页面</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># while true; do nc -l -p 80 -q 1 &lt; somepage.html; done</span></span><br></pre></td></tr></table></figure><h4 id="4-wget命令"><a href="#4-wget命令" class="headerlink" title="4. wget命令"></a>4. wget命令</h4><p>wget是一个下载文件的工具 。</p><p>命令格式：<br>    wget [参数]  [URL地址 ]</p><blockquote><p><strong>wget下载单个文件</strong> </p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>下载并以不同的文件名保存</strong> </p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz -o wget.tgz</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>限速下载</strong> </p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget --limit-rate=300k http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p>断点续传</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget -c http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p>后台下载</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget -b http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p>测试下载链接</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget --spider http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p>复制整个网站（镜像）</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget --mirror --convert-links http://exampledomain.com</span></span><br></pre></td></tr></table></figure><blockquote><p>访问需要认证的HTTP或FTP页面</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget --user username --password pass URL</span></span><br></pre></td></tr></table></figure><blockquote><p>指定目录下载</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget -P /home/download http://ftp.gnu.org/gnu/wget/wget-1.16.2.tar.gz</span></span><br></pre></td></tr></table></figure><blockquote><p>下载目录中的所有文件</p></blockquote><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># wget -r -np -nd http://mirrors.163.com/centos/6/isos/x86_64/</span></span><br><span class="line"><span class="section"># wget -r -p -np -k http://mirrors.163.com/centos/6/isos/x86_64/</span></span><br><span class="line">参数说明：</span><br><span class="line">-r,  --recursive  递归下载</span><br><span class="line">-k,  --convert-links  让下载得到的 HTML 或 CSS 中的链接指向本地文件</span><br><span class="line">-m,  --mirror             -N -r -l inf --no-remove-listing 的缩写形式</span><br><span class="line">-np, --no-parent          不追溯至父目录</span><br><span class="line">-nd, --no-directories     不创建目录</span><br><span class="line">-l,  --level=NUMBER       最大递归深度 (inf 或 0 代表无限制，即全部下载)</span><br><span class="line">-c,  --continue           断点续传下载文件</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍Linux系统中常用的网络工具。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统相关命令</title>
    <link href="https://dylantung.github.io/2018/06/10/linux-system/"/>
    <id>https://dylantung.github.io/2018/06/10/linux-system/</id>
    <published>2018-06-10T09:25:00.000Z</published>
    <updated>2018-06-10T10:10:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍Linux系统相关命令，比如关机，查看硬件信息等。<br><a id="more"></a></p><h4 id="1-关机命令"><a href="#1-关机命令" class="headerlink" title="1. 关机命令"></a>1. 关机命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># shutdown -h now关机</span></span><br><span class="line"><span class="section"># init 0 关机</span></span><br><span class="line"><span class="section"># telinit 0 关机</span></span><br><span class="line"><span class="section"># # shutdown -h hours:minutes &amp; 按预定时间关机</span></span><br><span class="line"><span class="section"># shutdown -c 取消按预定时间关闭系统</span></span><br><span class="line"><span class="section"># shutdown -r now重启 </span></span><br><span class="line"><span class="section"># reboot重启 </span></span><br><span class="line"><span class="section"># logout 注销</span></span><br></pre></td></tr></table></figure><h4 id="2-硬件相关"><a href="#2-硬件相关" class="headerlink" title="2. 硬件相关"></a>2. 硬件相关</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># dmidecode -q硬件相关信息 </span></span><br><span class="line"><span class="section"># hdparm -tT /dev/sda在磁盘上执行测试性读取操作 </span></span><br><span class="line"><span class="section"># lscpu查看CPU</span></span><br><span class="line"><span class="section"># lspci查看主板</span></span><br><span class="line"><span class="section"># lsblk查看磁盘分区</span></span><br></pre></td></tr></table></figure><h4 id="3-网络命令"><a href="#3-网络命令" class="headerlink" title="3. 网络命令"></a>3. 网络命令</h4><ul><li><p>ifconfig命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ifconfig 显示一个以太网卡的配置，常用选项：</span></span><br><span class="line"><span class="section"># ifconfig eth0</span></span><br><span class="line"><span class="section"># ifconfig eth0 down</span></span><br><span class="line"><span class="section"># ifconfig eth0 up</span></span><br><span class="line"><span class="section"># ifconfig eth0 192.168.1.99 broadcast 192.168.1.255 netmask 255.255.255.0</span></span><br><span class="line"><span class="section"># ifconfig eth0:0 192.168.1.100 netmask 255.255.255.0添加虚拟网卡</span></span><br><span class="line"><span class="section"># ifup eth0 启用一个 'eth0' 网络设备 </span></span><br><span class="line"><span class="section"># ifdown eth0 禁用一个 'eth0' 网络设备</span></span><br></pre></td></tr></table></figure></li><li><p>ip命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ip网络配置工具，常用选项：</span></span><br><span class="line"><span class="section"># ip a</span></span><br><span class="line"><span class="section"># ip addr show</span></span><br><span class="line"><span class="section"># ip addr show dev eth0查看服务器ip地址</span></span><br><span class="line"><span class="section"># ip -s link list</span></span><br><span class="line"><span class="section"># ip -s link ls eth0查看接口统计(ethtool -S eth0)</span></span><br><span class="line"><span class="section"># ip route list查看路由表</span></span><br><span class="line"><span class="section"># ip neigh list查看邻居表（arp -an）</span></span><br><span class="line"><span class="section"># ip addr add 192.168.0.215/24 label eth0:1 dev eth0添加虚拟网卡</span></span><br><span class="line"><span class="section"># ip addr del 192.168.0.215/24 label eth0:1 dev eth0删除虚拟网卡</span></span><br></pre></td></tr></table></figure></li><li><p>netstat命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># netstat -an | grep LISTEN-a 显示所有socket，包括正在监听的, -n 以网络IP地址代替名称</span></span><br><span class="line"><span class="section"># netstat -ntlup查看系统网络的状态信息，t=tcp，u=udp，p=程序名称，l=监听</span></span><br><span class="line"><span class="section"># netstat -s按照各个协议分别显示其统计数据</span></span><br><span class="line"><span class="section"># netstat -i显示网卡接口信息</span></span><br><span class="line"><span class="section"># netstat –r显示关于路由表的信息(rount -n)</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="4-系统监控和性能分析命令"><a href="#4-系统监控和性能分析命令" class="headerlink" title="4. 系统监控和性能分析命令"></a>4. 系统监控和性能分析命令</h4><ul><li><p>iostat命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># iostat直接运行，显示所有设备负载情况</span></span><br><span class="line"><span class="section"># iostat 2 3每2秒显示一次，总共显示3次</span></span><br><span class="line"><span class="section"># iostat -c查看cpu</span></span><br><span class="line"><span class="section"># iostat -d查看磁盘</span></span><br><span class="line"><span class="section"># iostat -d -x 1 x参数是详细信息</span></span><br></pre></td></tr></table></figure></li><li><p>vmstat命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># vmstat 虚拟内存统计</span></span><br><span class="line"><span class="section"># vmstat 2 2每2秒显示一次，总共显示2次</span></span><br><span class="line"><span class="section"># vmstat 2 2 -S m-S参数是单位，可以是k、m等</span></span><br></pre></td></tr></table></figure></li><li><p>free命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># free查看内存</span></span><br><span class="line"><span class="section"># free -m-m是单位</span></span><br><span class="line"><span class="section"># free -m -s 2-s是时间，每2秒查看一次</span></span><br></pre></td></tr></table></figure></li><li><p>dstat命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># dstat信息统计工具</span></span><br><span class="line"><span class="section"># dstat -nn是net</span></span><br><span class="line"><span class="section"># dstat -dd是disk</span></span><br><span class="line"><span class="section"># dstat -mm是memory</span></span><br><span class="line"><span class="section"># dstat -ll是load average 显示系统负载情况</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍Linux系统相关命令，比如关机，查看硬件信息等。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux进程管理</title>
    <link href="https://dylantung.github.io/2018/06/10/linux-process/"/>
    <id>https://dylantung.github.io/2018/06/10/linux-process/</id>
    <published>2018-06-09T16:14:00.000Z</published>
    <updated>2018-06-10T05:39:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍Linux进程相关的命令，ps、kill、top等。<br><a id="more"></a></p><h4 id="1-ps命令"><a href="#1-ps命令" class="headerlink" title="1. ps命令"></a>1. ps命令</h4><p>ps常规用法</p>  <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ps aux查看所有进程</span></span><br><span class="line"><span class="section"># ps -ef查看所有进程</span></span><br><span class="line"><span class="section"># ps -f -u apache查看某个用户的进程</span></span><br><span class="line"><span class="section"># ps -f -C httpd通过进程名显示进程</span></span><br><span class="line"><span class="section"># ps -f -p 3150,7298,6544通过进程id显示进程</span></span><br><span class="line"><span class="section"># ps aux --sort=-pcpu,+pmem以cpu使用量排序，如果cpu使用量相同，则以内存使用量排序</span></span><br><span class="line"><span class="section"># ps -f --forest -C httpd显示ASCII进程树</span></span><br><span class="line"><span class="section"># ps -o pid,uname,comm -C httpd显示父进程的子进程</span></span><br><span class="line"><span class="section"># ps -o pid,uname,comm --ppid 3438</span></span><br><span class="line"><span class="section"># ps -e -o pid,comm,etime  显示进程已运行的时间</span></span><br><span class="line"><span class="section"># watch -n 1 'ps -e -o pid,uname,cmd,pmem,pcpu --sort=-pmem,-pcpu | head -15'</span></span><br><span class="line"></span><br><span class="line">还有一个pstree命令</span><br><span class="line"><span class="section"># pstree</span></span><br><span class="line"><span class="section"># pstree -a</span></span><br><span class="line"><span class="section"># pstree -p apache</span></span><br></pre></td></tr></table></figure><h4 id="2-top相关命令"><a href="#2-top相关命令" class="headerlink" title="2. top相关命令"></a>2. top相关命令</h4><ul><li><p>top命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># top</span></span><br><span class="line"><span class="section"># top -b -n 1</span></span><br><span class="line"><span class="section"># top -b -n 1 -p 1</span></span><br></pre></td></tr></table></figure></li><li><p>htop命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># yum install htop -y没有htop命令就安装</span></span><br><span class="line"><span class="section"># htop</span></span><br><span class="line"><span class="section"># htop -d 22秒刷新一次</span></span><br><span class="line"><span class="section"># htop -C 没有颜色</span></span><br><span class="line"><span class="section"># htop -u apacheu=user</span></span><br><span class="line"><span class="section"># htop -p xxx，xxxp=pid</span></span><br></pre></td></tr></table></figure></li><li><p>dstat 命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># dstat直接运行</span></span><br><span class="line"><span class="section"># dstat -nn是net</span></span><br><span class="line"><span class="section"># dstat -dd是disk</span></span><br><span class="line"><span class="section"># dstat -mm是memory</span></span><br><span class="line"><span class="section"># dstat -ll是load average 显示系统负载情况</span></span><br></pre></td></tr></table></figure></li><li><p>glances命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># yum install epel-release -y</span></span><br><span class="line"><span class="section"># yum install glances -y没有glances命令就安装</span></span><br><span class="line"><span class="section"># glances</span></span><br><span class="line"><span class="section"># glances -t 2刷新频率2秒，默认是1秒</span></span><br><span class="line"><span class="section"># yum install python-jinja2 -y</span></span><br><span class="line"><span class="section"># glances -o csv -f glances.csv输出为csv格式</span></span><br><span class="line"><span class="section"># glances -o HTML -f /var/www/html/输出为html格式</span></span><br><span class="line"><span class="section"># glances -s -B 192.168.1.153 -p 4000 -P123在服务器端启动</span></span><br><span class="line"><span class="section"># glances -c 192.168.1.153 -p 4000 -P123 再客户端连接</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="3-kill命令"><a href="#3-kill命令" class="headerlink" title="3. kill命令"></a>3. kill命令</h4><p>发送指定的信号到相应进程。 </p>  <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># kill -l查看有那些信号</span></span><br><span class="line"><span class="section"># kill -9 xxx给xxx进程发生9号信号</span></span><br></pre></td></tr></table></figure><p>查找进程PID的命令</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ps -ef | grep httpd</span></span><br><span class="line"><span class="section"># pstree -p apache</span></span><br><span class="line"><span class="section"># pidof httpd</span></span><br><span class="line"><span class="section"># pgrep httpd</span></span><br><span class="line"><span class="section"># lsof /usr/sbin/httpd</span></span><br></pre></td></tr></table></figure><p>杀死进程的命令</p>  <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># kill -9 pid</span></span><br><span class="line"><span class="section"># killall httpd</span></span><br><span class="line"><span class="section"># pkill httpd</span></span><br><span class="line"><span class="section"># skill httpd</span></span><br></pre></td></tr></table></figure><h4 id="4-前台进程和后台进程"><a href="#4-前台进程和后台进程" class="headerlink" title="4 . 前台进程和后台进程"></a>4 . 前台进程和后台进程</h4><p>(1)command &amp;让进程在后台运行<br>(2) jobs –l 查看后台运行的进程<br>(3)fg %n 让后台运行的进程n到前台来<br>(4)bg %n 让进程n到后台去<br>  <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># glances -s -B 127.0.0.1 &amp;</span></span><br><span class="line"><span class="section"># glances -s -B 127.0.0.1暂停程序运行CTRL+Z</span></span><br><span class="line"><span class="section"># jobs -l查看暂停的程序</span></span><br><span class="line"><span class="section"># bg %1切换程序至后台</span></span><br><span class="line"><span class="section"># fg %1切换程序至前台</span></span><br><span class="line"><span class="section"># kill %1终止后台程序</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍Linux进程相关的命令，ps、kill、top等。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux文本文件处理(4)</title>
    <link href="https://dylantung.github.io/2018/06/10/linux-sed/"/>
    <id>https://dylantung.github.io/2018/06/10/linux-sed/</id>
    <published>2018-06-09T16:14:00.000Z</published>
    <updated>2018-06-09T16:38:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍sed命令的用法。<br><a id="more"></a></p><h4 id="1-awk简介"><a href="#1-awk简介" class="headerlink" title="1. awk简介"></a>1. awk简介</h4><p>Sed：Stream Editor  流式编辑器 又称行编辑器，每次只编辑一行。</p><h4 id="2-基本用法"><a href="#2-基本用法" class="headerlink" title="2. 基本用法"></a>2. 基本用法</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># sed [OPTION]... &#123;script-only-if-no-other-script&#125; [input-file]...</span></span><br></pre></td></tr></table></figure><p>选项与参数：<br>-n：只显示sed匹配到的行。其余行不显示。<br>-i：可以直接操作原文件。默认情况下sed不会改变原文件，但是-i选项可以修改原文件，此选项应慎用。<br>-r：可以使用标准正则表达式。默认情况下sed只支持基本正则表达式，但是加上-r选项后则支持扩展正则表达式<br>-e：可以同时执行多个命令<br>常用格式：<br>(1)Sed [options] ‘script’ input_file……<br>(2)Sed [options] -f script_file input_file……<br>(3)Sed [options] ‘ADDR1,ADDR2command’ input_file……<br>(4)Sed [options] ‘/PATTERN/command’ input_file……<br>(5)Sed ‘/PATTERN1/,/PATTERN2/command’ input_file……</p><p>常用命令(command)如下：</p><ul><li>打印p</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># sed -n '3p' /etc/passwd--打印第3行</span></span><br><span class="line"><span class="section"># sed -n '1,3p' /etc/passwd--打印第1到第3行</span></span><br><span class="line"><span class="section"># sed -n '1,$p' /etc/passwd</span></span><br><span class="line"><span class="section"># nl /etc/passwd | sed -n '5,7p'--打印第5到第7行</span></span><br><span class="line"><span class="section"># head  -5 /etc/passwd |sed -ne '1p;4p'--打印第1行和第4行</span></span><br><span class="line"></span><br><span class="line"><span class="section"># nl /etc/passwd | sed -n '/root/p'--查找包含root的行</span></span><br><span class="line"><span class="section"># cat /etc/passwd | sed -n '/^root/p'</span></span><br><span class="line"></span><br><span class="line"><span class="section"># ifconfig eth1 | sed -n '2p' | awk -F: '&#123;print $2&#125;' | awk '&#123;print $1&#125;'--截取ip</span></span><br><span class="line"></span><br><span class="line"><span class="section"># head  -5 /etc/passwd |sed -ne '/^[[:upper:]]/p;/^[a-z]/p'--分别打印大写字母开头的行和小写字母开头的行</span></span><br><span class="line"><span class="section"># head  -5 /etc/passwd |sed -ne '/^[[:upper:]]/,/^[a-z]/p' --用正则表达式实现范围打印</span></span><br><span class="line"><span class="section"># head  -5 /etc/passwd |sed -ne '/^[[:upper:]]/,/nologin$/p'</span></span><br><span class="line"><span class="section"># head -5 /etc/passwd |sed -n '/^[^[:blank:]]/p' --打印非空格开头的行</span></span><br><span class="line"></span><br><span class="line">下面三条都是把有Accepted关键字的行打印出来</span><br><span class="line"><span class="section"># awk '$0~"Accepted" &#123;print $0&#125;' /var/log/ssh.log </span></span><br><span class="line"><span class="section"># sed -n '/Accepted/p' /var/log/ssh.log  </span></span><br><span class="line"><span class="section"># cat /var/log/ssh.log  | grep Accepted</span></span><br><span class="line"></span><br><span class="line">比较awk</span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | sed -n '1,4p'</span></span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | awk 'NR&lt;5 &#123;print $0&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | sed -n '1p;3p;5p'</span></span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | awk 'NR==1 || NR==3 || NR==5 &#123;print $0&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | sed -n '/root/p;/daemon/p;/lp/p'</span></span><br><span class="line"><span class="section"># head -5 /etc/passwd |cat -n | awk '$0~"root" || $0~"daemon" || $0~"lp" &#123;print $0&#125;'</span></span><br></pre></td></tr></table></figure><ul><li>删除e<br>sed删除语法：<br>sed ‘范围d’ file<br>以行为单位删除，如果不指定范围，默认范围是整个文件。</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># sed '1d' /etc/passwd 删除第一行，第二行2d，第三行3d，以此类推，最后一行$d</span></span><br><span class="line"><span class="section"># sed '1,3d' /etc/passwd 删除第1行到第3行，中间是逗号</span></span><br><span class="line"><span class="section"># sed '1d;3d' /etc/passwd删除第1行和第3行，中间是分号</span></span><br><span class="line"><span class="section"># sed -e '1d' -e '3d' /etc/passwd 删除第1行和第3行</span></span><br><span class="line"><span class="section"># sed --expression='1d' --expression='3d' /etc/passwd</span></span><br><span class="line"><span class="section"># sed '/^root/d' /etc/passwd使用正则表达式，要加双斜杠</span></span><br><span class="line"><span class="section"># sed '/root/,/sync/d' /etc/passwd 删除包含root到sync的行</span></span><br><span class="line"><span class="section"># sed '/root/!d' /etc/passwd!表示后面的命令对所有没有被选定的行发生作用</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># head -n 5 /etc/passwd |cat -n |sed  '2d'  指定删除第二行</span></span><br><span class="line"><span class="section"># head -n 5 /etc/passwd |cat -n |sed  '2,3d'    删除第二行到第三行，中间为逗号，表示范围</span></span><br><span class="line"><span class="section"># head -n 5 /etc/passwd |cat -n |sed  '1d;5d'   删除第一行和第五行，中间为分号，表示单独操作</span></span><br><span class="line"><span class="section"># head -n 5 /etc/passwd |cat -n |sed  '1d;5d;3d'</span></span><br><span class="line"><span class="section"># head -n 5 /etc/passwd |cat -n |sed  '1,3d;5d'</span></span><br><span class="line"><span class="section"># head -5 /etc/passwd |sed '/daemon/d'</span></span><br><span class="line"></span><br><span class="line">删除vsftpd.conf里所有的注释和空行</span><br><span class="line"><span class="section"># sed '/^#/d;/^$/d' /etc/vsftpd/vsftpd.conf</span></span><br></pre></td></tr></table></figure><ul><li>替换<br>sed替换语法：<br>sed ‘范围 s/老字符/新字符/标记’ file<br>sed ‘范围 s#老字符#新字符#标记’ file<br>如果不指定范围，默认范围是整个文件。<br>sed ‘y/老字符/新字符/‘</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># head -5 /etc/passwd | nl |sed '1,4s/nologin/NOLOGIN/g'</span></span><br><span class="line"><span class="section"># sed 's#nologin#NOLOGIN#g' /etc/passwdg是标记，表示全部，也可以使用数字，1,2,3等进行替换，#号只有替换的时候才能用</span></span><br><span class="line"><span class="section"># sed 's/nologin/NOLOGIN/g' /etc/passwd</span></span><br><span class="line"><span class="section"># sed '1s/root/--&amp;--/2' /etc/passwd老字符支持正则表达式，新字符不支持正则表达式，除了"\n\&amp;"，这里的"&amp;"表示前面的关键字</span></span><br><span class="line"><span class="section"># sed '1&#123;s/root/ROOT/;s/bin/BIN/&#125;' /etc/passwd  多次替换使用花括号和分号</span></span><br><span class="line"><span class="section"># sed 'y/abc/xyz/' file     y也是替换，a-&gt;x b-&gt;y c-&gt;z</span></span><br><span class="line"><span class="section"># cat /etc/sysconfig/network-scripts/ifcfg-eth0 | sed '/^onboot/c\onboot=yes'将onboot开头的行替换成onboot=yes，行替换</span></span><br><span class="line"><span class="section"># cat /etc/sysconfig/network-scripts/ifcfg-eth0 | sed 's/ONBOOT="no"/ONBOOT="yes"/'</span></span><br></pre></td></tr></table></figure><ul><li>修改之后保存</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># sed -i '/^root/a\the first line' file--修改源文件的操作要谨慎</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍sed命令的用法。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux文本文件处理(3)</title>
    <link href="https://dylantung.github.io/2018/06/09/linux-awk/"/>
    <id>https://dylantung.github.io/2018/06/09/linux-awk/</id>
    <published>2018-06-09T15:16:00.000Z</published>
    <updated>2018-06-09T15:58:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍awk命令的用法。<br><a id="more"></a></p><h4 id="1-awk简介"><a href="#1-awk简介" class="headerlink" title="1. awk简介"></a>1. awk简介</h4><p>awk有3个不同版本: awk、nawk和gawk，未作特别说明，一般指gawk。<br>awk名字来源于三位创造者Aho、Weinberger和Kernighan统称。<br>awk擅长处理文本数据。</p><h4 id="2-基本用法"><a href="#2-基本用法" class="headerlink" title="2. 基本用法"></a>2. 基本用法</h4><p>awk [-Ffs] [-v var=value] [program | -f progfile …] [file …]<br>选项与参数：<br>-F 指定域分隔符，例如：-F “|”，即以|作为域分隔符，默认分隔符为一个或多个空格或TAB，即”[[:space:]][[:space:]]*”。<br>-v 定义变量，从shell给awk传递变量，如-vDATE=$DATE，即将shell中$DATE变量值传递给awk变量DATE。<br>-f 指定脚本文件，例如-f progfile。<br>program 操作模块</p><p>示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># awk -F ":" '&#123;print $1,$2&#125;' /etc/passwd     -F 分隔符 $1是第一列 $2是第二列</span></span><br><span class="line"><span class="section"># awk '&#123;print $0&#125;' /etc/passwd打印所有列</span></span><br><span class="line"><span class="section"># awk -F: '&#123;print $1&#125;' /etc/passwd 打印第一列</span></span><br><span class="line"><span class="section"># awk -F: '&#123;print $1"\thaha\t"$3&#125;' /etc/passwd  打印第一，三列</span></span><br><span class="line"><span class="section"># awk -F":" '&#123;print $1" 的uid是 "$3&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># echo "haha,hehe.heihei" |awk -F"[,.]" '&#123;print $1&#125;'   分隔符可以有多个</span></span><br></pre></td></tr></table></figure><ul><li>模式匹配<br>格式：awk ‘/patten/ {action} ‘ filename<br> //纯字符匹配<br> !//纯字符不匹配<br> ~//字段值匹配<br> !~//字段值不匹配<br> ~/a1|a2/字段值匹配a1或a2</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># awk '/mysql/' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '/mysql/&#123;print &#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '/mysql/&#123;print $0&#125;' /etc/passwd                   --三条指令结果一样</span></span><br><span class="line"><span class="section"># awk '!/mysql/&#123;print $0&#125;' /etc/passwd                  --输出不匹配mysql的行</span></span><br><span class="line"><span class="section"># awk '/mysql|mail/&#123;print&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '/mysql|postfix|root/' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '!/mysql|mail/&#123;print&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '/mail/,/mysql/&#123;print&#125;' /etc/passwd             --区间匹配</span></span><br><span class="line"><span class="section"># awk '/^root/,/^mail/' /etc/passwd  --区间匹配</span></span><br><span class="line"><span class="section"># awk '/[2][7][7]*/&#123;print $0&#125;' /etc/passwd              --匹配包含27为数字开头的行，如27，277，2777...</span></span><br><span class="line"><span class="section"># awk -F: '$1~/mail/&#123;print $1&#125;' /etc/passwd             --$1匹配指定内容才显示</span></span><br><span class="line"><span class="section"># awk -F: '$3~/^0$/&#123;print $1&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk -F: '&#123;if($1~/mail/) print $1&#125;' /etc/passwd       --与上面相同</span></span><br><span class="line"><span class="section"># awk -F: '$1!~/mail/&#123;print $1&#125;' /etc/passwd            --不匹配</span></span><br><span class="line"><span class="section"># awk -F: '$1!~/mail|mysql/&#123;print $1&#125;' /etc/passwd</span></span><br></pre></td></tr></table></figure><ul><li>操作模块</li></ul><p>awk  [-Ffs]   ‘BEGIN {处理文件前执行的代码块} ｛处理文件过程中执行的代码块} END {处理文件后执行的代码块}’   filename</p><p>BEGIN｛<br>｝<br>｛</p><p>｝<br>END｛<br>｝</p><p>BEGIN和END只执行一次。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># awk -F: '&#123;print "用户名\t\tUID"&#125;&#123;print $1"\t"$3&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk -F: 'BEGIN&#123;print "用户名\t\tUID"&#125;&#123;print $1"\t"$3&#125;' /etc/passwd</span></span><br><span class="line"></span><br><span class="line"><span class="section"># head -1 /etc/passwd |awk -F: '&#123;print $7":"$6":"$5":"$4":"$3":"$2":"$1&#125;'</span></span><br><span class="line"><span class="section"># head -1 /etc/passwd |awk -F: 'BEGIN &#123;OFS=":"&#125;&#123;print $7,$6,$5,$4,$3,$2,$1&#125;'</span></span><br><span class="line"><span class="section"># head -1 /etc/passwd | awk 'BEGIN&#123;FS=":"&#125;&#123;OFS="@"; print $7,$6,$5,$4,$3,$2,$1&#125;'</span></span><br><span class="line"><span class="section"># head -1 /etc/passwd | awk 'BEGIN&#123;FS=":";OFS="#"&#125;&#123;print $7,$6,$5,$4,$3,$2,$1&#125;'</span></span><br><span class="line"></span><br><span class="line">awk可以用做小数（浮点数）的运算</span><br><span class="line"><span class="section"># echo $[1.23*2]--错误做法</span></span><br><span class="line"><span class="section"># echo |awk '&#123;print 1.23*2&#125;'--正确做法</span></span><br><span class="line"><span class="section"># echo 1.23*2 | bc--正确做法</span></span><br><span class="line"><span class="section"># awk 'BEGIN&#123;print 1.23*2&#125;'</span></span><br></pre></td></tr></table></figure><ul><li>内置变量</li></ul><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>$0</td><td>当前记录行，代表一行记录</td></tr><tr><td>$1到n</td><td>当前记录的第n个字段，字段间由FS分隔</td></tr><tr><td>FS</td><td>输入字段分隔符，默认是空格或tab</td></tr><tr><td>NF</td><td>当前记录中的字段个数，就是有多少列，一般取最后一列字段</td></tr><tr><td>NR</td><td>已经读出的记录数，就是行号，从1开始</td></tr><tr><td>RS</td><td>输入的记录分隔符，默认为换行符</td></tr><tr><td>OFS</td><td>输出字段分隔符，默是空格</td></tr><tr><td>ORS</td><td>输出的记录分隔符，默认为换行符</td></tr></tbody></table><p>示例</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">打印第五行</span><br><span class="line"><span class="section"># head -5 /etc/passwd |tail -1</span></span><br><span class="line"><span class="section"># awk 'NR==5  &#123;print $0&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk '&#123;if (NR==5) print $0&#125;' /etc/passwd</span></span><br><span class="line"></span><br><span class="line">打印第五行和第六行</span><br><span class="line"><span class="section"># awk 'NR==5 || NR==6 &#123;print $0&#125;' /etc/passwd</span></span><br><span class="line"><span class="section"># awk 'NR&gt;=5 &amp;&amp; NR&lt;=6 &#123;print $0&#125;' /etc/passwd</span></span><br><span class="line"></span><br><span class="line">打印五到十行，并在前面加上行号</span><br><span class="line"><span class="section"># awk 'NR&lt;=10 &amp;&amp; NR&gt;=5 &#123;print FNR,$0&#125;' /etc/passwd</span></span><br><span class="line"></span><br><span class="line">打印奇数行 (删除偶数行)</span><br><span class="line"><span class="section"># awk 'NR%2==1 &#123;print FNR,$0&#125;' /etc/passwd</span></span><br><span class="line"></span><br><span class="line">打印偶数行 (删除奇数行)</span><br><span class="line"><span class="section"># awk 'NR%2==0 &#123;print FNR,$0&#125;' /etc/passwd</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍awk命令的用法。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux文本文件处理(2)</title>
    <link href="https://dylantung.github.io/2018/06/09/linux-grep/"/>
    <id>https://dylantung.github.io/2018/06/09/linux-grep/</id>
    <published>2018-06-09T10:05:00.000Z</published>
    <updated>2018-06-09T15:02:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍grep命令的用法。<br><a id="more"></a></p><h4 id="1-grep的简介"><a href="#1-grep的简介" class="headerlink" title="1. grep的简介"></a>1. grep的简介</h4><p>文本搜索工具，根据用户指定的文本模式对目标文件进行逐行搜索，显示能够被模式所匹配到的行。配合正则表达式的使用可以实现强大的文本处理。 </p><h4 id="2-基础用法"><a href="#2-基础用法" class="headerlink" title="2. 基础用法"></a>2. 基础用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># grep [-cinv] [--color=auto] &apos;搜寻字符串&apos; filename</span><br><span class="line">选项与参数：</span><br><span class="line">-c ：计算找到 &apos;搜寻字符串&apos; 的次数</span><br><span class="line">-i ：忽略大小写的不同，所以大小写视为相同</span><br><span class="line">-n ：顺便输出行号</span><br><span class="line">-v ：反向选择，亦即显示出没有 &apos;搜寻字符串&apos; 内容的那一行！</span><br><span class="line">--color=auto ：可以将找到的关键词部分加上颜色的显示喔！</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># grep root /etc/passwd</span><br><span class="line"># grep -n root /etc/passwd-n:输出行号</span><br><span class="line"># grep -c &quot;bash&quot; /etc/passwd-c:个数</span><br><span class="line"># grep -v root /etc/passwd-v:反向匹配</span><br><span class="line"># echo &quot;hello world&quot; | grep -i &quot;HELLO&quot;-i:忽略大小写</span><br><span class="line"># dmesg | grep -n --color=auto &apos;eth&apos;--color颜色高亮</span><br><span class="line"># dmesg | grep -n -A3 -B2 --color=auto &apos;eth&apos;-A -B -C 将匹配到的那一行的前面后面的行显示出来</span><br><span class="line"># cat patfile </span><br><span class="line">  bash</span><br><span class="line">  nologin</span><br><span class="line"># grep -f patfile /etc/passwd --color -f:文件</span><br><span class="line"># grep &quot;root&quot; / -r  --color=auto -r:递归</span><br><span class="line"># grep &quot;main()&quot; . -r --include *.&#123;php,html&#125;  --include:包含</span><br><span class="line"># grep &quot;main()&quot; . -r --exclude &quot;README&quot;  --exclude:不包含</span><br><span class="line"># grep &quot;main()&quot; . -r --exclude-from filelist</span><br></pre></td></tr></table></figure><h4 id="3-正则表达式"><a href="#3-正则表达式" class="headerlink" title="3. 正则表达式"></a>3. 正则表达式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">.单个字符</span><br><span class="line">^开始</span><br><span class="line">$结尾</span><br><span class="line">*匹配零个或多个先前字符</span><br><span class="line">[]匹配一个指定范围内的字符</span><br><span class="line">[^]匹配一个不在指定范围内的字符</span><br><span class="line">x\&#123;m\&#125;重复字符x，m次，如：&apos;0\&#123;5\&#125;&apos;匹配包含5个o的行</span><br><span class="line">x\&#123;m,\&#125;重复字符x,至少m次，如：&apos;o\&#123;5,\&#125;&apos;匹配至少有5个o的行</span><br><span class="line">w    匹配文字和数字字符，也就是[A-Za-z0-9]</span><br><span class="line">Ww的反置形式，匹配一个或多个非单词字符，如点号句号等</span><br><span class="line">+匹配一个或多个先前的字符</span><br><span class="line">?匹配零个或多个先前的字符</span><br><span class="line">a|b|c匹配a或b或c</span><br><span class="line">x&#123;m&#125;,x&#123;m,&#125;,x&#123;m,n&#125; 作用同x\&#123;m\&#125;,x\&#123;m,\&#125;,x\&#123;m,n\&#125;</span><br><span class="line"></span><br><span class="line">[:alnum:]文字数字字符</span><br><span class="line">[:alpha:]文字字符</span><br><span class="line">[:digit:]数字字符</span><br><span class="line">[:graph:]非空字符（非空格、控制字符）</span><br><span class="line">[:lower:]小写字符</span><br><span class="line">[:cntrl:]控制字符</span><br><span class="line">[:print:]非空字符（包括空格）</span><br><span class="line">[:punct:]标点符号</span><br><span class="line">[:space:]所有空白字符（新行，空格，制表符）</span><br><span class="line">[:upper:]大写字符</span><br><span class="line">[:xdigit:]十六进制数字（0-9，a-f，A-F）</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># grep -E &apos;r..t&apos; /etc/passwd --color</span><br><span class="line"># grep -E &apos;r.*t&apos; /etc/passwd --color</span><br><span class="line"># grep -E &apos;r.+t&apos; /etc/passwd --color</span><br><span class="line"># cat /etc/httpd/conf/httpd.conf | grep -v &apos;^#&apos; | grep -v &apos;^$&apos;</span><br><span class="line"># cat /etc/httpd/conf/httpd.conf | grep -v -e &apos;^#&apos; -e &apos;^$&apos;</span><br><span class="line"># cat /etc/httpd/conf/httpd.conf | grep -v -E &apos;#|^$&apos;</span><br><span class="line"># grep -E &apos;[io]n&apos; /etc/passwd --color</span><br><span class="line"># grep -E &apos;[^io]n&apos; /etc/passwd --color</span><br><span class="line"># grep &apos;ro\&#123;2\&#125;&apos; /etc/passwd --color不要加-E</span><br><span class="line"># grep &apos;ro\&#123;1,\&#125;&apos; /etc/passwd --color贪婪模式，尽可能多的匹配</span><br><span class="line"># grep &apos;ro\&#123;1,3\&#125;&apos; /etc/passwd --color至少1次，最多3次</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍grep命令的用法。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>Linux文本文件处理(1)</title>
    <link href="https://dylantung.github.io/2018/06/08/linux-text/"/>
    <id>https://dylantung.github.io/2018/06/08/linux-text/</id>
    <published>2018-06-08T09:00:00.000Z</published>
    <updated>2018-06-09T15:02:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍Linux下文本文件的查看等操作相关的命令。<br><a id="more"></a></p><h4 id="1-文本文件查看命令"><a href="#1-文本文件查看命令" class="headerlink" title="1. 文本文件查看命令"></a>1. 文本文件查看命令</h4><p>cat命令                            查看文件内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt查看文本文件内容</span><br><span class="line">cat -n 1.txt显示行号，空行也算一行</span><br><span class="line">cat -nb 1.txt显示行号，空行忽略</span><br></pre></td></tr></table></figure></p><p>head命令                        显示文件前十行的内容(默认)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">head 1.txt</span><br><span class="line">head -n 20 1.txt显示文件前20行的内容</span><br><span class="line">head -20 1.txt显示文件前20行的内容</span><br></pre></td></tr></table></figure></p><p>tail命令                        查看文件最后十行的内容(默认)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tail -n 5 1.txt 最后5行</span><br><span class="line">tail -5 1.txt最后5行</span><br><span class="line">tail -f 1.txt动态查看文件内容</span><br><span class="line">tailf1.txt动态查看文件内容</span><br></pre></td></tr></table></figure></p><p>more命令                        分页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more 1.txt</span><br></pre></td></tr></table></figure></p><p>less命令                        分页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less 1.txt</span><br></pre></td></tr></table></figure></p><p>tac命令                            文件内容的输出上下反，不影响源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tac 1.txttac 反过来 cat</span><br></pre></td></tr></table></figure></p><p>rev命令                            左右反，不影响源文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rev 1.txt</span><br></pre></td></tr></table></figure></p><p>tee命令                            将数据重定向到文件和标准输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls | tee out.txt</span><br><span class="line">ls | tee out.txt | cat -n</span><br></pre></td></tr></table></figure></p><h4 id="2-其他命令"><a href="#2-其他命令" class="headerlink" title="2. 其他命令"></a>2. 其他命令</h4><p>wc命令                            字符统计<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | wc -l</span><br><span class="line">cat /etc/passwd | wc -c</span><br><span class="line">cat /etc/passwd | wc -w</span><br></pre></td></tr></table></figure></p><p>cut命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">who|cut -b 3-5</span><br><span class="line">cut -f2 -d&quot;;&quot; test2.txt-d分隔符是&quot;:&quot;，-f是列</span><br><span class="line">cut -f2 --complement test.txt --complement 选项提取指定字段之外的列</span><br></pre></td></tr></table></figure></p><p>tr命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;HELLO WORLD&quot; | tr &apos;A-Z&apos; &apos;a-z&apos;将输入字符由大写转换为小写</span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">echo &quot;hello 123 world 456&quot; | tr -d &apos;0-9&apos;使用tr删除字符</span><br><span class="line">hello  world </span><br><span class="line"></span><br><span class="line">cat text | tr &apos;\t&apos; &apos; &apos;将制表符转换为空格</span><br></pre></td></tr></table></figure></p><p>sort命令                                    排序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -t &apos; &apos; -k 1.2 facebook.txt</span><br></pre></td></tr></table></figure></p><p>uniq命令                                    忽略文件中的重复行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sort file.txt | uniq</span><br><span class="line">sort -u file.txt</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍Linux下文本文件的查看等操作相关的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux-basic" scheme="https://dylantung.github.io/tags/linux-basic/"/>
    
  </entry>
  
  <entry>
    <title>yum命令详解</title>
    <link href="https://dylantung.github.io/2018/06/08/linux-yum/"/>
    <id>https://dylantung.github.io/2018/06/08/linux-yum/</id>
    <published>2018-06-08T05:50:20.000Z</published>
    <updated>2018-06-09T15:02:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍centos系统程序包管理软件Yum命令的详细使用方法。<br><a id="more"></a><br>Yum软件包管理方式，在Red Hat,Fedora,CentOS等发行版本上运用广泛。</p><h4 id="1-Yum的工作机制"><a href="#1-Yum的工作机制" class="headerlink" title="1. Yum的工作机制"></a>1. Yum的工作机制</h4><p>将诸多程序的包信息和头文件提取出来，放到一个集中的地方，记录其依赖关系。在下次安装的时候，均于存储的库文件查找相应的对应关系，再安装所依赖的软件程序。</p><h4 id="2-Yum配置文件"><a href="#2-Yum配置文件" class="headerlink" title="2. Yum配置文件"></a>2. Yum配置文件</h4><p>主配置文件：/etc/yum.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[main]：主名称，固定名称</span><br><span class="line">cachedir=/var/cache/yum/$basearch/$releasever       缓存目录</span><br><span class="line">keepcache=0                                         是否保存缓存</span><br><span class="line">debuglevel=2                                        调试级别</span><br><span class="line">exactarch=1                                         是否做精确严格的平台匹配</span><br><span class="line">gpgcheck=1                                          检查来源法性和完整性</span><br><span class="line">plugins=1                                           是否支持插件</span><br><span class="line">installonly_limit=4                                 同时安装几个</span><br></pre></td></tr></table></figure></p><p>子配置文件：/etc/yum.repos.d/*.repo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[repository ID] ：ID名称，即仓库名称，不可与其他ID重命</span><br><span class="line">name=                     (对ID名称的说明)</span><br><span class="line">baserul=URL1</span><br><span class="line">URL2</span><br><span class="line">URL3                    （如果同一个源有多个镜像，可以在此我写几个，但每个URL需换行）</span><br><span class="line">mirrorlist=              (有一台服务器在网络上，保存了多个baseurl，如果使用这项，就不使用baseurl项）</span><br><span class="line">enabled=&#123;1|0&#125;</span><br><span class="line">gpgcheck=&#123;1|0&#125;</span><br><span class="line">repo_gpgcheck=           (检查仓库的元数据的签名信息)</span><br><span class="line">gpgkey=URL               (gpg密钥文件）</span><br><span class="line">enablegroups= &#123;1|0&#125;&#125;    (是否在此仓库中上使用组来指管理程序包)</span><br><span class="line">failovermethod= roundrobin|priority (对多个baseurl做优先级的，roundrobin为轮循，priority为优先级，默认为轮循，意为随机）</span><br><span class="line">keepalive=              (如果对方是http 1.0是否要保持连接)</span><br><span class="line">username=               (yum的验证用户)</span><br><span class="line">password=               (yum的验证用户密码)</span><br><span class="line">cost=                   (默认baseurl都为1000)</span><br></pre></td></tr></table></figure></p><p>Yum仓库的配置文件示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[epel]</span><br><span class="line">name=Extra Packages for Enterprise Linux 6 - $basearch</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/6/$basearch</span><br><span class="line">mirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6</span><br></pre></td></tr></table></figure></p><p>其中使用了变量<br>$releasever:当前os的发行版本的主版本号<br>$arch:平台<br>$basearch:基础平台</p><h4 id="3-常用的国内Yum源"><a href="#3-常用的国内Yum源" class="headerlink" title="3. 常用的国内Yum源"></a>3. 常用的国内Yum源</h4><ul><li>中科大<br><a href="http://mirrors.ustc.edu.cn/centos/CentOS-Base.5.mirrors.repo" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/centos/CentOS-Base.5.mirrors.repo</a><br><a href="http://mirrors.ustc.edu.cn/centos/6/os/x86_64/" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/centos/6/os/x86_64/</a></li><li>搜狐<br><a href="http://mirrors.sohu.com/help/CentOS-Base-sohu.repo" target="_blank" rel="noopener">http://mirrors.sohu.com/help/CentOS-Base-sohu.repo</a><br><a href="http://mirrors.sohu.com/centos/6/os/x86_64/" target="_blank" rel="noopener">http://mirrors.sohu.com/centos/6/os/x86_64/</a></li><li>REMI<br><a href="http://rpms.remirepo.net/" target="_blank" rel="noopener">http://rpms.remirepo.net/</a>                REMI网站<br><a href="https://mirrors.tuna.tsinghua.edu.cn/remi/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/remi/</a>             REMI中国镜像<br><a href="http://rpms.remirepo.net/enterprise/" target="_blank" rel="noopener">http://rpms.remirepo.net/enterprise/</a><br><a href="http://rpms.remirepo.net/enterprise/remi-release-6.rpm" target="_blank" rel="noopener">http://rpms.remirepo.net/enterprise/remi-release-6.rpm</a></li><li>163源<br><a href="http://mirrors.163.com/centos/" target="_blank" rel="noopener">http://mirrors.163.com/centos/</a></li><li>阿里云<br><a href="https://opsx.alibaba.com/mirror" target="_blank" rel="noopener">https://opsx.alibaba.com/mirror</a></li><li>中国科技大学<br><a href="http://centos.ustc.edu.cn/centos/" target="_blank" rel="noopener">http://centos.ustc.edu.cn/centos/</a></li><li>rpm包常用下载地址<br><a href="https://centos.pkgs.org/" target="_blank" rel="noopener">https://centos.pkgs.org/</a><br><a href="http://rpmfind.net/" target="_blank" rel="noopener">http://rpmfind.net/</a><br><a href="http://dl.fedoraproject.org/pub/epel/" target="_blank" rel="noopener">http://dl.fedoraproject.org/pub/epel/</a></li></ul><h4 id="4-制作Yum源"><a href="#4-制作Yum源" class="headerlink" title="4. 制作Yum源"></a>4. 制作Yum源</h4><p>上面介绍的都是网络上做好的yum源，我们也可以自己来制作yum源。<br></p><ul><li><p>本地光盘源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mkdir /media/cdrom</span><br><span class="line">mount /dev/cdrom /media/cdrom/</span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line">vim cdrom.repo</span><br><span class="line">[cdrom]</span><br><span class="line">name=cdrom repolist</span><br><span class="line">baseurl=file:///media/cdrom/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure></li><li><p>文件夹源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mkdir /yum</span><br><span class="line">yum -y install createrepo</span><br><span class="line">mv *.rpm /yum</span><br><span class="line">createrepo /yum</span><br><span class="line">cd /etc/yum.repos.d/</span><br><span class="line">vim cdrom.repo</span><br><span class="line">[local]</span><br><span class="line">name=local directory repolist</span><br><span class="line">baseurl=file:///media/cdrom/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure></li><li><p>网络yum源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd -y</span><br><span class="line">ln -s /yum /var/www/html/</span><br><span class="line">service httpd start</span><br></pre></td></tr></table></figure></li></ul><p>添加新的yum源：<br>yum install yum-utils -y<br>yum-config-manager –add-repo=file:///yum/</p><h4 id="5-yum命令使用"><a href="#5-yum命令使用" class="headerlink" title="5. yum命令使用"></a>5. yum命令使用</h4><p>安装软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install packagename</span><br></pre></td></tr></table></figure></p><p>升级软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update packagename</span><br></pre></td></tr></table></figure></p><p>卸载软件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove packagename</span><br></pre></td></tr></table></figure></p><p>搜索已安装软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search keyword</span><br></pre></td></tr></table></figure></p><p>查看软件包额外信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum info packagename</span><br></pre></td></tr></table></figure></p><p>查看可安装的软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list | less</span><br></pre></td></tr></table></figure></p><p>列出已安装软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | less</span><br></pre></td></tr></table></figure></p><p>显示仓库的所有程序包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list</span><br></pre></td></tr></table></figure></p><p>查看特定文件属于哪个软件包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum provides /etc/sysconfig/nfs</span><br></pre></td></tr></table></figure></p><p>列出可获得的软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum grouplist</span><br></pre></td></tr></table></figure></p><p>安装某个特定软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall</span><br></pre></td></tr></table></figure></p><p>升级软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupupdate &apos;Graphical Internet&apos;</span><br></pre></td></tr></table></figure></p><p>卸载软件组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupremove &apos;DNS Name Server&apos;</span><br></pre></td></tr></table></figure></p><p>列出当前yum软件源<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure></p><p>查看yum安装的历史<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum history</span><br><span class="line">yum history info 3</span><br><span class="line">yum history undo 4</span><br></pre></td></tr></table></figure></p><p>安装及升级本地程序包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum localinstall rpmfile1</span><br><span class="line">yum localupdate rpmfile1</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍centos系统程序包管理软件Yum命令的详细使用方法。&lt;br&gt;
    
    </summary>
    
      <category term="linux" scheme="https://dylantung.github.io/categories/linux/"/>
    
    
      <category term="linux" scheme="https://dylantung.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Centos下Yum安装PHP5.5、PHP5.6、PHP7.0</title>
    <link href="https://dylantung.github.io/2018/06/08/linux-php-version/"/>
    <id>https://dylantung.github.io/2018/06/08/linux-php-version/</id>
    <published>2018-06-08T02:00:00.000Z</published>
    <updated>2018-06-09T15:02:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍centos系统上如何升级php的版本。<br><a id="more"></a><br>Centos系统默认有php，但是默认的版本太低，手动安装有一些麻烦，于是使用Yum来安装。</p><h4 id="1-检查当前安装的PHP包"><a href="#1-检查当前安装的PHP包" class="headerlink" title="1. 检查当前安装的PHP包"></a>1. 检查当前安装的PHP包</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep php</span><br></pre></td></tr></table></figure><p>如果已经安装PHP的包，先卸载掉。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove php.x86_64 php-cli.x86_64 php-common.x86_64 php-gd.x86_64 php-ldap.x86_64 php-mbstring.x86_64 php-mcrypt.x86_64 php-mysql.x86_64 php-pdo.x86_64</span><br></pre></td></tr></table></figure></p><h4 id="2-安装新的Yum源"><a href="#2-安装新的Yum源" class="headerlink" title="2. 安装新的Yum源"></a>2. 安装新的Yum源</h4><p>Centos 5.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm</span><br></pre></td></tr></table></figure></p><p>CentOs 6.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm</span><br></pre></td></tr></table></figure></p><p>CentOs 7.x<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm</span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</span><br></pre></td></tr></table></figure></p><h4 id="3-安装PHP"><a href="#3-安装PHP" class="headerlink" title="3. 安装PHP"></a>3. 安装PHP</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php55w.x86_64 php55w-cli.x86_64 php55w-common.x86_64 php55w-gd.x86_64 php55w-ldap.x86_64 php55w-mbstring.x86_64 php55w-mcrypt.x86_64 php55w-mysql.x86_64 php55w-pdo.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php56w.x86_64 php56w-cli.x86_64 php56w-common.x86_64 php56w-gd.x86_64 php56w-ldap.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-mysql.x86_64 php56w-pdo.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php70w.x86_64 php70w-cli.x86_64 php70w-common.x86_64 php70w-gd.x86_64 php70w-ldap.x86_64 php70w-mbstring.x86_64 php70w-mcrypt.x86_64 php70w-mysql.x86_64 php70w-pdo.x86_64</span><br></pre></td></tr></table></figure><h4 id="4-安装PHP-FPM"><a href="#4-安装PHP-FPM" class="headerlink" title="4. 安装PHP FPM"></a>4. 安装PHP FPM</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install php55w-fpm</span><br><span class="line">yum install php56w-fpm</span><br><span class="line">yum install php70w-fpm</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍centos系统上如何升级php的版本。&lt;br&gt;
    
    </summary>
    
      <category term="php" scheme="https://dylantung.github.io/categories/php/"/>
    
    
      <category term="php" scheme="https://dylantung.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础02篇</title>
    <link href="https://dylantung.github.io/2018/06/08/linux-basic-02/"/>
    <id>https://dylantung.github.io/2018/06/08/linux-basic-02/</id>
    <published>2018-06-07T16:28:44.000Z</published>
    <updated>2018-06-09T15:02:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍文件系统、文件权限、文件打包和解包及软件包管理方面的命令。<br><a id="more"></a></p><h4 id="1-文件系统"><a href="#1-文件系统" class="headerlink" title="1. 文件系统"></a>1. 文件系统</h4><h5 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h5><p>  磁盘分区主要使用fdisk（sfdisk）命令和parted命令。<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sfdisk  -l</span><br><span class="line">sfdisk  -s</span><br><span class="line">cfdisk  -Ps</span><br><span class="line">fdisk -l</span><br></pre></td></tr></table></figure></p><h5 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h5><p>  mkfs命令<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4</span><br><span class="line">mfks -t ext4 /dev/sda6</span><br></pre></td></tr></table></figure></p><h5 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount命令</span><br><span class="line">mount /dev/sda5 /test</span><br><span class="line">mount /soft/rhel-server-6.3-x86_64-dvd.iso /yum/ -o loop</span><br><span class="line">mount -o remount,noexec /</span><br></pre></td></tr></table></figure><h4 id="查看磁盘"><a href="#查看磁盘" class="headerlink" title="查看磁盘"></a>查看磁盘</h4>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df –h显示已经挂载的分区列表</span><br><span class="line">df –T 显示分区列表的文件系统类型</span><br><span class="line">du -sh dir1 估算目录 &apos;dir1&apos; 已经使用的磁盘空间</span><br><span class="line">fsck 文件系统修复</span><br><span class="line">dumpe2fs /dev/sda1显示磁盘状态</span><br><span class="line">findmnt 查找已经被挂载的文件系统</span><br><span class="line">blkid</span><br></pre></td></tr></table></figure><h4 id="2-文件权限"><a href="#2-文件权限" class="headerlink" title="2. 文件权限"></a>2. 文件权限</h4><h5 id="基本的权限"><a href="#基本的权限" class="headerlink" title="基本的权限"></a>基本的权限</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chmod u+s /bin/file1设置一个二进制文件的SUID 位</span><br><span class="line">chmod u-s /bin/file1禁用一个二进制文件的SUID位</span><br><span class="line">chmod g+s /home/public 设置一个目录的SGID位</span><br><span class="line">chmod g-s /home/public 禁用一个目录的SGID位</span><br><span class="line">chmod o+t /home/public 设置一个文件的STIKY位</span><br><span class="line">chmod o-t /home/public禁用一个目录的STIKY位</span><br><span class="line">chown user1:group1 file1 改变一个文件的所有人和群组属性</span><br><span class="line">chown -R user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性</span><br></pre></td></tr></table></figure><h5 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chattr +a file1 只允许以追加方式读写文件</span><br><span class="line">chattr +c file1 允许这个文件能被内核自动压缩/解压</span><br><span class="line">chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件</span><br><span class="line">chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接</span><br><span class="line">chattr +s file1 允许一个文件被安全地删除</span><br><span class="line">chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘</span><br><span class="line">chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件</span><br><span class="line">lsattr 显示特殊的属性</span><br></pre></td></tr></table></figure><h4 id="3-文件打包和解包"><a href="#3-文件打包和解包" class="headerlink" title="3.文件打包和解包"></a>3.文件打包和解包</h4><p>  示例：<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf archive.tar file1 创建一个非压缩的 tarball</span><br><span class="line">tar -cvf archive.tar file1 file2 dir1 创建一个包含了 &apos;file1&apos;, &apos;file2&apos; 以及 &apos;dir1&apos;的档案文件</span><br><span class="line">tar -tf archive.tar 显示一个包中的内容</span><br><span class="line">tar -xvf archive.tar 释放一个包</span><br><span class="line">tar -xvf archive.tar -C /tmp 将压缩包释放到 /tmp目录下</span><br><span class="line">tar -cvfj archive.tar.bz2 dir1 创建一个bzip2格式的压缩包</span><br><span class="line">tar -xvfj archive.tar.bz2 解压一个bzip2格式的压缩包</span><br><span class="line">tar -cvfz archive.tar.gz dir1 创建一个gzip格式的压缩包</span><br><span class="line">tar -xvfz archive.tar.gz 解压一个gzip格式的压缩包</span><br><span class="line">zip file1.zip file1 创建一个zip格式的压缩包</span><br><span class="line">zip -r file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包</span><br><span class="line">unzip file1.zip 解压一个zip格式压缩包</span><br></pre></td></tr></table></figure></p><h4 id="4-软件包管理"><a href="#4-软件包管理" class="headerlink" title="4. 软件包管理"></a>4. 软件包管理</h4><h5 id="rpm包管理"><a href="#rpm包管理" class="headerlink" title="rpm包管理"></a>rpm包管理</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh package.rpm 安装一个rpm包</span><br><span class="line">rpm -ivh --nodeeps package.rpm 安装一个rpm包而忽略依赖关系警告</span><br><span class="line">rpm -U package.rpm 更新一个rpm包但不改变其配置文件</span><br><span class="line">rpm -e package_name.rpm 删除一个rpm包</span><br><span class="line">rpm -qa 显示系统中所有已经安装的rpm包</span><br><span class="line">rpm -qa | grep httpd 显示所有名称中包含 &quot;httpd&quot; 字样的rpm包</span><br><span class="line">rpm -qi package_name 获取一个已安装包的特殊信息</span><br><span class="line">rpm -ql package_name 显示一个已经安装的rpm包提供的文件列表</span><br><span class="line">rpm -qc package_name 显示一个已经安装的rpm包提供的配置文件列表</span><br><span class="line">rpm -qf /etc/httpd/conf/httpd.conf 确认所给的文件由哪个rpm包所提供</span><br><span class="line">rpm -qp package.rpm -l 显示由一个尚未安装的rpm包提供的文件列表</span><br><span class="line">rpm --import /media/cdrom/RPM-GPG-KEY 导入公钥数字证书  </span><br><span class="line">rpmbuild --rebuild package_name.src.rpm 从一个rpm源码构建一个 rpm 包</span><br></pre></td></tr></table></figure><h5 id="yum管理工具"><a href="#yum管理工具" class="headerlink" title="yum管理工具"></a>yum管理工具</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install package_name 下载并安装一个rpm包</span><br><span class="line">yum localinstall package_name.rpm 将安装一个rpm包，使用你自己的软件仓库为你解决所有依赖关系</span><br><span class="line">yum update package_name.rpm更新当前系统中所有安装的rpm包</span><br><span class="line">yum update package_name更新一个rpm包</span><br><span class="line">yum remove package_name删除一个rpm包</span><br><span class="line">yum list 列出当前系统中安装的所有包</span><br><span class="line">yum search package_name 在rpm仓库中搜寻软件包</span><br><span class="line">yum clean packages 清理rpm缓存删除下载的包</span><br><span class="line">yum clean all 删除所有缓存的包</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文主要介绍文件系统、文件权限、文件打包和解包及软件包管理方面的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux" scheme="https://dylantung.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础01篇</title>
    <link href="https://dylantung.github.io/2018/06/07/linux-basic-01/"/>
    <id>https://dylantung.github.io/2018/06/07/linux-basic-01/</id>
    <published>2018-06-06T18:20:14.000Z</published>
    <updated>2018-06-09T15:02:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>从今天开始，陆续介绍Linux常用命令。本文主要介绍文件和目录、文件搜素相关的命令。<br><a id="more"></a></p><h4 id="1-文件和目录"><a href="#1-文件和目录" class="headerlink" title="1. 文件和目录"></a>1. 文件和目录</h4><h5 id="cd命令"><a href="#cd命令" class="headerlink" title="cd命令"></a>cd命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cd /进入系统根目录</span><br><span class="line">[root@rzx ~]# cd /</span><br><span class="line">cd /home进入根下的home目录</span><br><span class="line">[root@rzx ~]# cd /home</span><br><span class="line"></span><br><span class="line">cd ..进入当前目录的上一级目录</span><br><span class="line">[root@rzx ~]# cd ..</span><br><span class="line">cd -进入上次所在的目录</span><br><span class="line">[root@rzx ~]# cd -</span><br></pre></td></tr></table></figure><h5 id="ls和pwd命令"><a href="#ls和pwd命令" class="headerlink" title="ls和pwd命令"></a>ls和pwd命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls注意ls的参数</span><br><span class="line">[root@rzx ~]# ls -a -l -d -h</span><br><span class="line"></span><br><span class="line">pwd显示当前工作路径</span><br><span class="line">[root@rzx ~]# pwd</span><br></pre></td></tr></table></figure><h5 id="mkdir命令"><a href="#mkdir命令" class="headerlink" title="mkdir命令"></a>mkdir命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir  /test在根目录下创建test目录</span><br><span class="line">[root@rzx ~]# mkdir /test</span><br><span class="line">mkdir  -p  /a/b/c/d创建多级目录，-p参数是不报错的</span><br><span class="line">[root@rzx ~]# mkdir -p /a/b/c/d</span><br></pre></td></tr></table></figure><h5 id="cp命令"><a href="#cp命令" class="headerlink" title="cp命令"></a>cp命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp file1 file2复制一个文件</span><br><span class="line">[root@rzx ~]# cp a.txt b.txt</span><br><span class="line">cp -ar dir1 dir2 复制一个目录</span><br><span class="line">[root@rzx ~]# cp -ar /abc /test</span><br></pre></td></tr></table></figure><h5 id="mv命令"><a href="#mv命令" class="headerlink" title="mv命令"></a>mv命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv /opt/a /root/移动文件</span><br><span class="line">[root@rzx ~]# mv /opt/a /root/</span><br><span class="line">mv /opt/a /root/移动文件</span><br><span class="line">[root@rzx ~]# mv /opt/a /root/b</span><br></pre></td></tr></table></figure><h5 id="touch命令"><a href="#touch命令" class="headerlink" title="touch命令"></a>touch命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">touch 1.txt创建文件</span><br><span class="line">[root@rzx ~]# touch 1.txt</span><br><span class="line">[root@rzx ~]# touch &#123;a..z&#125;</span><br><span class="line">[root@rzx ~]# touch &#123;a..z..2&#125;</span><br><span class="line">[root@rzx ~]# touch a&#123;1..5&#125;</span><br><span class="line">[root@rzx ~]# touch a&#123;1..5&#125;.txt</span><br><span class="line">[root@rzx ~]# touch &#123;1..5&#125;&#123;a..f&#125;</span><br></pre></td></tr></table></figure><h5 id="file命令"><a href="#file命令" class="headerlink" title="file命令"></a>file命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查看文件的类型</span><br><span class="line">[root@rzx ~]# file /dev/sda</span><br></pre></td></tr></table></figure><h5 id="tree命令"><a href="#tree命令" class="headerlink" title="tree命令"></a>tree命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">显示文件和目录由根目录开始的树形结构</span><br><span class="line">[root@rzx ~]# yum install tree</span><br><span class="line">[root@rzx ~]# tree –L 1</span><br></pre></td></tr></table></figure><h4 id="2-文件搜素"><a href="#2-文件搜素" class="headerlink" title="2. 文件搜素"></a>2. 文件搜素</h4><h5 id="whereis和which命令"><a href="#whereis和which命令" class="headerlink" title="whereis和which命令"></a>whereis和which命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查找二进制文件</span><br><span class="line">[root@rzx ~]# which cat</span><br><span class="line">[root@rzx ~]# whereis whereis</span><br></pre></td></tr></table></figure><h5 id="find命令"><a href="#find命令" class="headerlink" title="find命令"></a>find命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">按名称查找</span><br><span class="line">[root@rzx ~]# find /etc/ -name grub.conf</span><br><span class="line">[root@rzx ~]# find /etc/ -name &quot;*.conf&quot;</span><br><span class="line">[root@rzx ~]# find /etc/ -name &quot;.*&quot;</span><br><span class="line">[root@rzx ~]# find /test/  -iname Abc</span><br><span class="line">按类型查找</span><br><span class="line">[root@rzx ~]# find / -type f</span><br><span class="line">[root@rzx ~]# find / -type b</span><br><span class="line">[root@rzx ~]# find / -type s</span><br><span class="line">[root@rzx ~]# find / -type c</span><br><span class="line">[root@rzx ~]# find / -type p</span><br><span class="line">[root@rzx ~]# find / -type d</span><br><span class="line">[root@rzx ~]# find / -type l</span><br><span class="line">按大小查找</span><br><span class="line">[root@rzx ~]# find / -size +500M</span><br><span class="line">[root@rzx ~]# find / -size +1G</span><br><span class="line">[root@rzx ~]# find / -size +50k</span><br><span class="line">[root@rzx ~]# find / -size -1M</span><br><span class="line">[root@rzx ~]# find / -size +3c</span><br><span class="line">[root@rzx ~]# find / -size +80M -size -100M</span><br></pre></td></tr></table></figure><h5 id="locate命令"><a href="#locate命令" class="headerlink" title="locate命令"></a>locate命令</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">速度快，通过系统带的一个数据库去查找，数据是非实时的。</span><br><span class="line">速度快，通过系统带的一个数据库去查找，数据是非实时的。</span><br><span class="line">系统每天自动更新一次，是通过时间任务执行的：/etc/cron.daily/mlocate.cron</span><br><span class="line">/usr/bin/updatedb主要用来更新数据库，通过crontab自动完成的</span><br><span class="line">/usr/bin/locate             查询文件位置</span><br><span class="line">/etc/updatedb.confupdatedb的配置文件</span><br><span class="line">/var/lib/mlocate/mlocate.db  存放文件信息的文件</span><br><span class="line">[root@rzx ~]# locate passwd</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从今天开始，陆续介绍Linux常用命令。本文主要介绍文件和目录、文件搜素相关的命令。&lt;br&gt;
    
    </summary>
    
      <category term="linux-basic" scheme="https://dylantung.github.io/categories/linux-basic/"/>
    
    
      <category term="linux" scheme="https://dylantung.github.io/tags/linux/"/>
    
  </entry>
  
</feed>
